apiVersion: v1
kind: ConfigMap
metadata:
  name: ai-native-config
  namespace: ai-native-staging
data:
  # Environment
  ENVIRONMENT: "staging"
  DEBUG: "false"

  # API Server
  API_HOST: "0.0.0.0"
  API_PORT: "8000"
  LOG_LEVEL: "INFO"
  LOG_FORMAT: "json"

  # Database Connection Pool (P1.3)
  DB_POOL_SIZE: "20"
  DB_MAX_OVERFLOW: "40"
  DB_POOL_TIMEOUT: "30"
  DB_POOL_RECYCLE: "3600"

  # Redis Cache (P1.2)
  LLM_CACHE_ENABLED: "true"
  LLM_CACHE_BACKEND: "redis"
  REDIS_URL: "redis://ai-native-redis:6379/0"
  LLM_CACHE_TTL: "3600"
  LLM_CACHE_MAX_ENTRIES: "1000"

  # LLM Provider
  LLM_PROVIDER: "mock"
  OPENAI_MODEL: "gpt-4"
  OPENAI_TEMPERATURE: "0.7"
  GEMINI_MODEL: "gemini-1.5-flash"
  GEMINI_TEMPERATURE: "0.7"

  # CORS
  ALLOWED_ORIGINS: "https://app-staging.ai-native.tu-institucion.edu.ar"

  # Rate Limiting
  RATE_LIMIT_PER_MINUTE: "60"
  RATE_LIMIT_PER_HOUR: "1000"

  # JWT (P1.1)
  JWT_ALGORITHM: "HS256"
  JWT_ACCESS_TOKEN_EXPIRE_MINUTES: "30"
  JWT_REFRESH_TOKEN_EXPIRE_DAYS: "7"

  # Governance
  MAX_AI_INVOLVEMENT: "0.8"
  BLOCK_COMPLETE_SOLUTIONS: "true"
  REQUIRE_TRACEABILITY: "true"

  # Feature Flags
  ENABLE_N4_TRACEABILITY: "true"
  ENABLE_RISK_ANALYSIS: "true"
  ENABLE_PROCESS_EVALUATION: "true"
  ENABLE_GIT_INTEGRATION: "false"