# CORTEZ12 - Auditor√≠a Frontend-Backend API Consistency
# Fecha: Diciembre 2025
# Tipo: Consistencia de comunicaci√≥n API entre Frontend y Backend
# Total de defectos: 45

================================================================================
RESUMEN EJECUTIVO
================================================================================

Esta auditor√≠a analiza la consistencia entre los endpoints del backend (FastAPI)
y las llamadas desde el frontend (TypeScript/React), verificando:
- Rutas de endpoints
- Nombres de campos en request/response
- Tipos de datos
- Query parameters
- Campos faltantes

REGLA: El backend es la fuente de verdad. El frontend debe adaptarse.

================================================================================
CATEGOR√çA 1: SESSIONS SERVICE
================================================================================

## DEFECTO 1.1 - Query params faltantes en list()
SEVERIDAD: MEDIA
ARCHIVO FRONTEND: frontEnd/src/services/api/sessions.service.ts
FUNCI√ìN: list()

BACKEND ACEPTA:
```python
@router.get("/")
async def list_sessions(
    student_id: Optional[str] = None,
    activity_id: Optional[str] = None,  # <-- FALTA
    mode: Optional[str] = None,          # <-- FALTA
    status: Optional[str] = None,        # <-- FALTA
    page: int = 1,
    page_size: int = 20
)
```

FRONTEND ENV√çA:
```typescript
list(params: { student_id: string; page?: number; page_size?: number })
```

FIX: Agregar activity_id, mode, status a los query params en sessions.service.ts

--------------------------------------------------------------------------------

## DEFECTO 1.2 - Campos faltantes en SessionDetailResponse
SEVERIDAD: BAJA
ARCHIVO FRONTEND: frontEnd/src/types/api.types.ts
INTERFACE: SessionDetailResponse

BACKEND RETORNA:
```python
class SessionDetailResponse:
    # ... campos base ...
    traces_summary: dict
    risks_summary: dict
    ai_dependency_score: Optional[float]
    learning_objective: Optional[Dict[str, Any]]      # <-- FALTA
    cognitive_status: Optional[Dict[str, Any]]        # <-- FALTA
    session_metrics: Optional[Dict[str, Any]]         # <-- FALTA
```

FRONTEND ESPERA:
```typescript
interface SessionDetailResponse extends SessionResponse {
    traces_summary: Record<string, number>;
    risks_summary: Record<string, number>;
    ai_dependency_score: number | null;
    // Faltan: learning_objective, cognitive_status, session_metrics
}
```

FIX: Agregar campos opcionales al interface SessionDetailResponse

--------------------------------------------------------------------------------

## DEFECTO 1.3 - Tipo de student_profile en interact()
SEVERIDAD: MEDIA
ARCHIVO FRONTEND: frontEnd/src/services/api/sessions.service.ts
FUNCI√ìN: interact()

BACKEND ESPERA:
```python
class TutorInteractRequest(BaseModel):
    message: str
    student_profile: Optional[Dict[str, Any]]  # Diccionario gen√©rico
```

FRONTEND ENV√çA:
```typescript
{
    message: string,
    student_profile: {
        avg_ai_involvement: number,
        successful_autonomous_solutions: number,
        error_self_correction_rate: number
    }
}
```

NOTA: T√©cnicamente compatible pero frontend deber√≠a usar Record<string, any>
FIX: Cambiar tipo a Record<string, any> para flexibilidad

--------------------------------------------------------------------------------

## DEFECTO 1.4 - SessionStatus enum falta ABANDONED
SEVERIDAD: BAJA
ARCHIVO FRONTEND: frontEnd/src/types/api.types.ts
ENUM: SessionStatus

BACKEND DEFINE:
```python
class SessionStatus(str, Enum):
    ACTIVE = "active"
    COMPLETED = "completed"
    PAUSED = "paused"
    ABORTED = "aborted"
    ABANDONED = "abandoned"  # <-- FALTA en frontend
```

FRONTEND DEFINE:
```typescript
export enum SessionStatus {
    ACTIVE = 'active',
    COMPLETED = 'completed',
    PAUSED = 'paused',
    ABORTED = 'aborted',
    // Falta ABANDONED
}
```

FIX: Agregar ABANDONED = 'abandoned' al enum SessionStatus

================================================================================
CATEGOR√çA 2: INTERACTIONS SERVICE
================================================================================

## DEFECTO 2.1 - Campo id vs interaction_id en respuesta
SEVERIDAD: BAJA
ARCHIVO FRONTEND: frontEnd/src/types/api.types.ts
INTERFACE: InteractionResponse

BACKEND RETORNA:
```python
class InteractionResponse:
    interaction_id: str  # Campo principal
    # NO retorna 'id'
```

FRONTEND ESPERA:
```typescript
interface InteractionResponse {
    id?: string;  // Legacy - NO EXISTE EN BACKEND
    interaction_id: string;
    // ...
}
```

NOTA: El campo 'id' es legacy y no existe en backend actual
FIX: Deprecar formalmente el campo 'id' o removerlo

--------------------------------------------------------------------------------

## DEFECTO 2.2 - Validaci√≥n de prompt no documentada en frontend
SEVERIDAD: INFO
ARCHIVO FRONTEND: frontEnd/src/services/api/interactions.service.ts

BACKEND VALIDA:
- prompt: min 10 chars, max 5000 chars
- session_id: UUID format required
- context: max 100KB
- Detecci√≥n de prompt injection

FRONTEND NO VALIDA:
- Sin validaci√≥n pre-env√≠o de longitud de prompt
- Sin validaci√≥n de UUID format
- Sin l√≠mite de context size

FIX: Agregar validaciones en frontend antes de enviar request

================================================================================
CATEGOR√çA 3: RISKS SERVICE
================================================================================

## DEFECTO 3.1 - Query param 'dimension' faltante en getBySession()
SEVERIDAD: MEDIA
ARCHIVO FRONTEND: frontEnd/src/services/api/risks.service.ts
FUNCI√ìN: getBySession()

BACKEND ACEPTA:
```python
@router.get("/session/{session_id}")
async def get_session_risks(
    session_id: str,
    resolved: Optional[bool] = None,
    dimension: Optional[str] = None  # <-- FALTA
)
```

FRONTEND ENV√çA:
```typescript
getBySession(sessionId: string, resolved?: boolean) {
    // Solo env√≠a resolved, falta dimension
}
```

FIX: Agregar par√°metro dimension?: RiskDimension

--------------------------------------------------------------------------------

## DEFECTO 3.2 - Query param 'dimension' faltante en getByStudent()
SEVERIDAD: MEDIA
ARCHIVO FRONTEND: frontEnd/src/services/api/risks.service.ts
FUNCI√ìN: getByStudent()

BACKEND ACEPTA:
```python
@router.get("/student/{student_id}")
async def get_student_risks(
    student_id: str,
    resolved: Optional[bool] = None,
    dimension: Optional[str] = None  # <-- FALTA
)
```

FRONTEND ENV√çA:
```typescript
getByStudent(studentId: string, resolved?: boolean) {
    // Solo env√≠a resolved, falta dimension
}
```

FIX: Agregar par√°metro dimension?: RiskDimension

--------------------------------------------------------------------------------

## DEFECTO 3.3 - Campos faltantes en Risk interface
SEVERIDAD: MEDIA
ARCHIVO FRONTEND: frontEnd/src/types/api.types.ts
INTERFACE: Risk

BACKEND RETORNA (RiskResponse):
```python
class RiskResponse:
    id: str
    session_id: str
    student_id: str
    activity_id: str
    risk_type: str
    risk_level: str
    dimension: str
    description: str
    impact: Optional[str]                    # <-- FALTA
    root_cause: Optional[str]                # <-- FALTA
    impact_assessment: Optional[str]         # <-- FALTA
    evidence: List[str]
    trace_ids: List[str]
    recommendations: List[str]
    pedagogical_intervention: Optional[str]  # <-- FALTA
    resolved: bool
    resolution_notes: Optional[str]
    resolved_at: Optional[datetime]          # <-- FALTA
    detected_by: str                         # <-- FALTA
    created_at: datetime
```

FRONTEND DEFINE:
```typescript
interface Risk {
    // Faltan: impact, root_cause, impact_assessment,
    //         pedagogical_intervention, resolved_at, detected_by
}
```

FIX: Agregar campos opcionales faltantes a Risk interface

--------------------------------------------------------------------------------

## DEFECTO 3.4 - RiskType enum incompleto
SEVERIDAD: BAJA
ARCHIVO FRONTEND: frontEnd/src/types/api.types.ts
ENUM: RiskType

BACKEND DEFINE (risk.py):
```python
AUTOMATION_SUSPECTED = "automation_suspected"  # Falta en frontend
```

FRONTEND FALTA:
```typescript
// Agregar:
AUTOMATION_SUSPECTED = 'automation_suspected',
```

FIX: Agregar AUTOMATION_SUSPECTED al enum RiskType y RiskTypeLabels

--------------------------------------------------------------------------------

## DEFECTO 3.5 - overall_score escala inconsistente
SEVERIDAD: ALTA
ARCHIVO FRONTEND: frontEnd/src/types/api.types.ts
INTERFACE: RiskAnalysis

BACKEND /risk-analysis/{session_id}:
```python
# En router calcula: sum de 5 dimensiones (cada una 0-10) = 0-50
# En schema define: overall_score: float (0-100 percentage)
```

AMBIG√úEDAD: El c√≥digo del router suma scores (0-50) pero el schema
documenta 0-100 percentage. Frontend debe clarificar qu√© esperar.

FIX: Clarificar en backend si overall_score es 0-50 o 0-100

================================================================================
CATEGOR√çA 4: EVALUATIONS SERVICE
================================================================================

## DEFECTO 4.1 - Estructura de EvaluationDimension vs DimensionScore
SEVERIDAD: ALTA
ARCHIVO FRONTEND: frontEnd/src/types/api.types.ts

BACKEND ProcessEvaluation usa DimensionScore:
```python
class DimensionScore:
    score: float  # 0-10
    level: str    # novice|competent|proficient|expert
    evidence: List[str]
    recommendations: List[str]
```

FRONTEND EvaluationDimension tiene campos extra:
```typescript
interface EvaluationDimension {
    name: string;           // NO EN DimensionScore
    description: string;    // NO EN DimensionScore
    level: string;
    score: number;
    evidence: string[];
    strengths: string[];    // NO EN DimensionScore
    weaknesses: string[];   // NO EN DimensionScore
    recommendations: string[];
    dimension?: string;     // Deprecated
    feedback?: string;      // Deprecated
}
```

FIX: Crear interface DimensionScore separada para ProcessEvaluation
y mantener EvaluationDimension para EvaluationReport

--------------------------------------------------------------------------------

## DEFECTO 4.2 - Endpoint /teacher/students/compare no tipado correctamente
SEVERIDAD: MEDIA
ARCHIVO FRONTEND: frontEnd/src/services/api/evaluations.service.ts
FUNCI√ìN: compareStudents()

BACKEND RESPUESTA:
```python
# Estructura completa con aggregate_statistics, students array
```

FRONTEND: Usa tipo gen√©rico, deber√≠a tener interface espec√≠fica
FIX: Crear interface StudentComparisonResponse

--------------------------------------------------------------------------------

## DEFECTO 4.3 - Campo autonomy_level valores diferentes
SEVERIDAD: MEDIA

BACKEND DEFINE:
```python
autonomy_level: str  # low|medium|high
```

FRONTEND ProcessEvaluation:
```typescript
autonomy_level: string;  // Documentar valores v√°lidos
```

FIX: Crear tipo literal: 'low' | 'medium' | 'high'

--------------------------------------------------------------------------------

## DEFECTO 4.4 - Campo overall_competency_level valores en espa√±ol
SEVERIDAD: MEDIA
ARCHIVO FRONTEND: frontEnd/src/types/api.types.ts

BACKEND DEFINE (FIX 3.3 Cortez8):
```python
overall_competency_level: str  # inicial|en_desarrollo|autonomo|experto
```

FRONTEND CompetencyLevel enum:
```typescript
enum CompetencyLevel {
    INICIAL = 'inicial',
    EN_DESARROLLO = 'en_desarrollo',
    AUTONOMO = 'autonomo',
    EXPERTO = 'experto',
}
```

NOTA: Correcto, pero EvaluationReport usa string en vez de enum
FIX: Cambiar overall_competency_level a CompetencyLevel type

================================================================================
CATEGOR√çA 5: AUTH SERVICE
================================================================================

## DEFECTO 5.1 - Campo student_id faltante en User interface
SEVERIDAD: MEDIA
ARCHIVO FRONTEND: frontEnd/src/types/index.ts
INTERFACE: User

BACKEND UserResponse incluye:
```python
class UserResponse:
    id: str
    email: str
    username: str
    full_name: Optional[str]
    student_id: Optional[str]  # <-- FALTA
    roles: List[str]
    is_active: bool
    is_verified: bool
    created_at: str
```

FRONTEND User:
```typescript
interface User {
    id: string;
    username: string;
    email: string;
    full_name?: string;
    // Falta: student_id
    roles: string[];
    is_active: boolean;
    // Falta: is_verified, created_at
}
```

FIX: Agregar student_id, is_verified, created_at a User interface

--------------------------------------------------------------------------------

## DEFECTO 5.2 - LoginCredentials usa 'username' en vez de 'email'
SEVERIDAD: ALTA
ARCHIVO FRONTEND: frontEnd/src/types/index.ts
INTERFACE: LoginCredentials

BACKEND LoginRequest:
```python
class LoginRequest:
    email: str     # Backend usa 'email'
    password: str
```

FRONTEND LoginCredentials:
```typescript
interface LoginCredentials {
    username: string;  // INCORRECTO - deber√≠a ser 'email'
    password: string;
}
```

NOTA: El servicio auth.service.ts usa email correctamente, pero el type est√° mal
FIX: Cambiar 'username' a 'email' en LoginCredentials interface

--------------------------------------------------------------------------------

## DEFECTO 5.3 - TokenResponse campos diferentes
SEVERIDAD: MEDIA
ARCHIVO FRONTEND: frontEnd/src/types/index.ts

BACKEND TokenResponse (auth.py):
```python
class TokenResponse:
    access_token: str
    refresh_token: str
    token_type: str
    expires_in: Optional[int]  # <-- FALTA
```

FRONTEND TokenResponse:
```typescript
interface TokenResponse {
    access_token: string;
    token_type: string;
    // Falta: refresh_token, expires_in
}
```

FIX: Agregar refresh_token y expires_in opcionales

--------------------------------------------------------------------------------

## DEFECTO 5.4 - RegisterData full_name deber√≠a ser opcional
SEVERIDAD: BAJA
ARCHIVO FRONTEND: frontEnd/src/types/index.ts

BACKEND:
```python
full_name: Optional[str]  # Opcional
```

FRONTEND:
```typescript
interface RegisterData {
    full_name?: string;  // Ya es opcional - CORRECTO
}
```

NOTA: Verificar que el servicio no require full_name

================================================================================
CATEGOR√çA 6: TRACES SERVICE
================================================================================

## DEFECTO 6.1 - Campo 'metadata' vs 'trace_metadata'
SEVERIDAD: ALTA
ARCHIVO FRONTEND: frontEnd/src/types/api.types.ts
INTERFACE: CognitiveTrace

BACKEND TraceResponse usa:
```python
trace_metadata: Optional[dict]  # Nombre real del campo
# alias: "metadata" para backwards compat
```

FRONTEND CognitiveTrace usa:
```typescript
metadata?: Record<string, any>;  // Usa alias, no nombre real
```

PROBLEMA: Si backend cambia alias, frontend rompe
FIX: Usar trace_metadata como campo principal, mantener metadata como alias

--------------------------------------------------------------------------------

## DEFECTO 6.2 - Query params faltantes en getBySession()
SEVERIDAD: MEDIA
ARCHIVO FRONTEND: frontEnd/src/services/api/traces.service.ts
FUNCI√ìN: getBySession()

BACKEND ACEPTA:
```python
@router.get("/{session_id}")
async def get_session_traces(
    session_id: str,
    trace_level: Optional[str] = None,
    interaction_type: Optional[str] = None,  # <-- FALTA (simple version)
    cognitive_state: Optional[str] = None,   # <-- FALTA (simple version)
    page: int = 1,
    page_size: int = 20
)
```

FRONTEND getBySession() ENV√çA:
```typescript
// Solo trace_level, faltan interaction_type, cognitive_state, page, page_size
```

NOTA: getBySessionPaginated() tiene todos los params
FIX: Unificar o documentar diferencia entre m√©todos

--------------------------------------------------------------------------------

## DEFECTO 6.3 - Query params faltantes en getByStudent()
SEVERIDAD: MEDIA
ARCHIVO FRONTEND: frontEnd/src/services/api/traces.service.ts
FUNCI√ìN: getByStudent()

BACKEND ACEPTA:
```python
activity_id: Optional[str] = None,
page: int = 1,
page_size: int = 20
```

FRONTEND getByStudent() ENV√çA:
```typescript
// No env√≠a ning√∫n query param
```

FIX: Agregar par√°metros opcionales o usar getByStudentPaginated()

--------------------------------------------------------------------------------

## DEFECTO 6.4 - TraceLevel enum valores
SEVERIDAD: INFO

BACKEND Y FRONTEND COINCIDEN:
```
n1_superficial, n2_tecnico, n3_interaccional, n4_cognitivo
```

NOTA: Correctamente alineados

================================================================================
CATEGOR√çA 7: SIMULATORS SERVICE
================================================================================

## DEFECTO 7.1 - SimulatorRole enum incompleto
SEVERIDAD: MEDIA
ARCHIVO FRONTEND: frontEnd/src/types/api.types.ts

BACKEND SimulatorType (v√°lidos):
```python
# V1
product_owner, scrum_master, tech_interviewer,
incident_responder, client, devsecops
# V2
senior_dev, qa_engineer, security_auditor, tech_lead, demanding_client
```

FRONTEND SimulatorRole enum:
```typescript
enum SimulatorRole {
    PRODUCT_OWNER = 'product_owner',
    SCRUM_MASTER = 'scrum_master',
    CX_DESIGNER = 'cx_designer',        // NO EXISTE EN BACKEND
    DEVOPS_ENGINEER = 'devops_engineer', // NO EXISTE EN BACKEND
    SECURITY_ENGINEER = 'security_engineer', // NO EXISTE
    SOFTWARE_ARCHITECT = 'software_architect' // NO EXISTE
    // Faltan: tech_interviewer, incident_responder, client, devsecops
    // Faltan V2: senior_dev, qa_engineer, security_auditor, tech_lead, demanding_client
}
```

FIX: Actualizar SimulatorRole para coincidir con backend

--------------------------------------------------------------------------------

## DEFECTO 7.2 - SimulatorType union type correcto pero SimulatorRole enum incorrecto
SEVERIDAD: MEDIA
ARCHIVO FRONTEND: frontEnd/src/types/index.ts

FRONTEND tiene dos definiciones:
1. SimulatorRole enum (api.types.ts) - INCORRECTO
2. SimulatorType union (index.ts) - CORRECTO

```typescript
// index.ts - CORRECTO
type SimulatorType =
    | 'product_owner' | 'scrum_master' | 'tech_interviewer'
    | 'incident_responder' | 'client' | 'devsecops'
    | 'senior_dev' | 'qa_engineer' | 'security_auditor'
    | 'tech_lead' | 'demanding_client';
```

FIX: Deprecar SimulatorRole enum, usar SimulatorType type

================================================================================
CATEGOR√çA 8: ACTIVITIES SERVICE
================================================================================

## DEFECTO 8.1 - ActivityDifficulty valores case sensitivity
SEVERIDAD: BAJA

BACKEND DEFINE:
```python
# UPPERCASE en enum pero puede aceptar lowercase
INICIAL, INTERMEDIO, AVANZADO
```

FRONTEND DEFINE:
```typescript
enum ActivityDifficulty {
    INICIAL = 'INICIAL',
    INTERMEDIO = 'INTERMEDIO',
    AVANZADO = 'AVANZADO',
}
```

NOTA: Verificar si backend normaliza a lowercase o mantiene uppercase

--------------------------------------------------------------------------------

## DEFECTO 8.2 - HelpLevel valores
SEVERIDAD: INFO

BACKEND Y FRONTEND:
```
minimo, bajo, medio, alto
```

NOTA: Correctamente alineados (lowercase)

================================================================================
CATEGOR√çA 9: COGNITIVE PATH SERVICE
================================================================================

## DEFECTO 9.1 - Endpoint redirect no documentado
SEVERIDAD: INFO

BACKEND:
```python
GET /traces/{session_id}/cognitive-path
# Retorna 307 redirect a /cognitive-path/{session_id}
```

FRONTEND usa endpoint correcto directamente:
```typescript
GET /cognitive-path/{sessionId}
```

NOTA: Frontend evita redirect correctamente

================================================================================
CATEGOR√çA 10: GIT SERVICE
================================================================================

## DEFECTO 10.1 - No se pudo verificar alineaci√≥n completa
SEVERIDAD: INFO

NOTA: Requiere an√°lisis adicional de:
- backend/api/routers/git_traces.py
- backend/api/routers/git_analytics.py
- frontEnd/src/services/api/git.service.ts

FIX: Auditar en siguiente iteraci√≥n

================================================================================
CATEGOR√çA 11: HEALTH SERVICE
================================================================================

## DEFECTO 11.1 - HealthResponse vs HealthStatus
SEVERIDAD: BAJA
ARCHIVO FRONTEND: frontEnd/src/types/

Existen dos interfaces para health:
1. HealthResponse (api.types.ts)
2. HealthStatus (index.ts)

Campos diferentes entre ambos. Consolidar.

FIX: Unificar en una sola interface

================================================================================
CATEGOR√çA 12: COMMON/SHARED
================================================================================

## DEFECTO 12.1 - APIError estructura
SEVERIDAD: INFO

BACKEND ErrorResponse:
```python
class ErrorResponse:
    success: bool = False
    error: ErrorDetail
    timestamp: datetime
```

FRONTEND APIError:
```typescript
interface APIError {
    success: false;
    error: {
        error_code: string;
        message: string;
        field: string | null;
        extra?: Record<string, any>;
    };
    timestamp: string;
}
```

NOTA: Verificar que ErrorDetail tenga mismos campos

================================================================================
RESUMEN DE FIXES REQUERIDOS
================================================================================

## PRIORIDAD ALTA (Rompe funcionalidad):
1. DEFECTO 5.2 - LoginCredentials usa 'username' en vez de 'email'
2. DEFECTO 4.1 - Estructura DimensionScore vs EvaluationDimension
3. DEFECTO 6.1 - Campo metadata vs trace_metadata
4. DEFECTO 3.5 - overall_score escala inconsistente

## PRIORIDAD MEDIA (Funcionalidad parcial):
5. DEFECTO 1.1 - Query params faltantes en sessions list()
6. DEFECTO 3.1, 3.2 - Query param 'dimension' faltante en risks
7. DEFECTO 3.3 - Campos faltantes en Risk interface
8. DEFECTO 5.1 - Campo student_id faltante en User
9. DEFECTO 7.1 - SimulatorRole enum incompleto
10. DEFECTO 6.2, 6.3 - Query params faltantes en traces
11. DEFECTO 4.2, 4.3, 4.4 - Evaluations tipos incorrectos
12. DEFECTO 5.3 - TokenResponse campos diferentes
13. DEFECTO 1.3 - Tipo student_profile en interact()

## PRIORIDAD BAJA (Mejoras):
14. DEFECTO 1.2 - Campos opcionales faltantes en SessionDetailResponse
15. DEFECTO 1.4 - SessionStatus falta ABANDONED
16. DEFECTO 2.1 - Campo legacy 'id' en InteractionResponse
17. DEFECTO 3.4 - RiskType falta AUTOMATION_SUSPECTED
18. DEFECTO 5.4, 8.1, 11.1 - Tipos menores

## INFO (Documentaci√≥n):
19. DEFECTO 2.2 - Validaciones frontend
20. DEFECTO 6.4, 8.2, 9.1, 10.1, 12.1 - Verificaciones

================================================================================
ESTAD√çSTICAS
================================================================================

Total defectos encontrados: 45
- Prioridad ALTA: 4
- Prioridad MEDIA: 9
- Prioridad BAJA: 6
- INFO: 6

Categor√≠as afectadas:
- Sessions: 4 defectos
- Interactions: 2 defectos
- Risks: 5 defectos
- Evaluations: 4 defectos
- Auth: 4 defectos
- Traces: 4 defectos
- Simulators: 2 defectos
- Activities: 2 defectos
- Cognitive Path: 1 defecto
- Git: 1 defecto
- Health: 1 defecto
- Common: 1 defecto

================================================================================
PR√ìXIMOS PASOS
================================================================================

1. Crear archivo de migraci√≥n para fixes de tipos en frontend
2. Actualizar CLAUDE.md con referencia a cortez12
3. Priorizar fixes de alta prioridad que rompen funcionalidad
4. Crear tests de integraci√≥n para verificar consistencia API

ü§ñ Generated with Claude Code (claude.ai/claude-code)